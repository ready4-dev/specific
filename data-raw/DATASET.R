library(scorz)
fns_env_ls <- ready4fun::read_fns(c("data-raw/fns/","data-raw/mthds/"),
                                  fns_env = new.env(parent = globalenv()))
x <- ready4fun::make_pkg_desc_ls(pkg_title_1L_chr = "Specify and Investigate Candidate Models For Representing Mental Health Systems" %>% tools::toTitleCase(),
                                 pkg_desc_1L_chr = "Tools to standardise the formalising and solving of inverse problems as part of the development of open and modular mental health systems.
  This development version of the specific package has been made available as part of the process of testing and documenting the package.
                            If you have any questions, please contact the authors (matthew.hamilton@orygen.org.au).",
                                 authors_prsn = c(utils::person(given = "Matthew",family = "Hamilton",email = "matthew.hamilton@orygen.org.au", role = c("aut", "cre"),comment = c(ORCID = "0000-0001-7407-9194")),
                                                  utils::person(given = "Caroline",family = "Gao",email = "caroline.gao@orygen.org.au", role = c("aut"),comment = c(ORCID = "0000-0002-0987-2759")),
                                                  utils::person("Orygen", role = c("cph", "fnd")),
                                                  utils::person("Headspace", role = c( "fnd")),
                                                  utils::person("National Health and Medical Research Council", role = c( "fnd"))),
                                 urls_chr = c("https://ready4-dev.github.io/specific/",
                                              "https://github.com/ready4-dev/specific",
                                              "https://ready4-dev.github.io/ready4/")) %>%
  ready4fun::make_manifest(addl_pkgs_ls = ready4fun::make_addl_pkgs_ls(depends_chr = c("ready4","scorz"),
                                                                       suggests_chr = "rmarkdown",
                                                                       imports_chr = "knitrBootstrap"),
                           build_ignore_ls = ready4fun::make_build_ignore_ls(file_nms_chr = c("initial_setup.R")),
                           check_type_1L_chr = "ready4",
                           copyright_holders_chr = "Orygen",
                           custom_dmt_ls = ready4fun::make_custom_dmt_ls(user_manual_fns_chr = c("get_background_text",
                                                                                                 "get_cndts_for_mxd_mdls",
                                                                                                 "get_conclusion_text",
                                                                                                 "get_covar_ctgs",
                                                                                                 "get_covars_by_ctg",
                                                                                                 "get_link_from_tfmn",
                                                                                                 "get_mdl_cmprsns",
                                                                                                 "get_mdl_type_from_nm",
                                                                                                 "get_mdls_with_signft_covars",
                                                                                                 "get_nbr_of_predrs",
                                                                                                 "get_nbr_of_predrs_by_ctg",
                                                                                                 "get_nbr_of_scndry_analyses",
                                                                                                 "get_ordered_sngl_csnl_mdls",
                                                                                                 "get_popl_descvs",
                                                                                                 "get_predr_ctgs",
                                                                                                 "get_predrs_by_ctg",
                                                                                                 "get_prefd_mdl_predrs",
                                                                                                 "get_scndry_anlys_descs",
                                                                                                 "get_selected_mixed_mdls",
                                                                                                 "get_signft_covars",
                                                                                                 "make_abstract_args_ls",
                                                                                                 "make_analysis_ds_smry_ls",
                                                                                                 "make_cmpst_sctr_and_dnst_plt",
                                                                                                 "make_cndt_predr_text",
                                                                                                 "make_coi_text",
                                                                                                 "make_correlation_text",
                                                                                                 "make_covariates_text",
                                                                                                 "make_data_availability_text",
                                                                                                 "make_dnst_and_sctr_plt_title",
                                                                                                 "make_ds_descvs_ls",
                                                                                                 "make_ds_smry_ls",
                                                                                                 "make_ethics_text",
                                                                                                 "make_fake_ts_data",
                                                                                                 "make_funding_text",
                                                                                                 #"make_header_yaml_args_ls",
                                                                                                 "make_indpnt_predrs_lngl_tbl_title",
                                                                                                 "make_indpnt_predrs_lngl_tbls_ref",
                                                                                                 "make_input_params",
                                                                                                 "make_knit_pars_ls",
                                                                                                 "make_maui_params_ls",
                                                                                                 "make_mdl",
                                                                                                 "make_mdl_coef_range_text",
                                                                                                 "make_mdl_desc_lines",
                                                                                                 "make_nbr_at_fup_text",
                                                                                                 "make_nbr_included_text",
                                                                                                 "make_output_format_ls",
                                                                                                 "make_path_params_ls",
                                                                                                 "make_predr_vals",
                                                                                                 "make_predr_vars_nms_ls",
                                                                                                 "make_predrs_for_best_mdls",
                                                                                                 "make_prefd_mdls_vec",
                                                                                                 "make_prefd_mdls_vec",
                                                                                                 "make_random_forest_text",
                                                                                                 "make_results_ls",
                                                                                                 "make_scaling_text",
                                                                                                 "make_scndry_anlys_params",
                                                                                                 "make_scndry_anlys_text",
                                                                                                 "make_selected_mdl_text",
                                                                                                 "make_shareable_mdl",
                                                                                                 "make_study_descs_ls",
                                                                                                 "make_ten_fold_text",
                                                                                                 "make_ten_folds_tbl_title",
                                                                                                 "make_tfmn_cmprsn_plt",
                                                                                                 "make_within_between_ratios_text",
                                                                                                 "predict_vals",
                                                                                                 "print_all_plts_for_mdl_set",
                                                                                                 "print_cohort_table",
                                                                                                 "print_cors_tbl",
                                                                                                 "print_covar_ttu_tbls",
                                                                                                 "print_indpnt_predrs_coefs_tbl",
                                                                                                 "print_indpnt_predrs_lngl_mdl_coefs",
                                                                                                 "print_ten_folds_tbl",
                                                                                                 "print_ts_mdl_plts",
                                                                                                 "reorder_cndt_predrs_chr",
                                                                                                 "transform_tb_to_mdl_inp",
                                                                                                 "transform_data_tb_for_cmprsn",
                                                                                                 "transform_ds_for_mdlng",
                                                                                                 "transform_ds_to_predn_ds",
                                                                                                 "transform_mdl_vars_with_clss",
                                                                                                 "transform_tb_to_mdl_inp",
                                                                                                 "write_analyses",
                                                                                                 #"write_csp_output",
                                                                                                 #"write_main_outp_dir",
                                                                                                 #"write_manuscript",
                                                                                                 "write_mdl_cmprsn",
                                                                                                 "write_mdl_type_covars_mdls",
                                                                                                 "write_mdl_type_multi_outps",
                                                                                                 "write_mdls_with_covars_cmprsn",
                                                                                                 "write_predr_and_covars_cmprsn",
                                                                                                 "write_predr_cmprsn_outps",
                                                                                                 #"write_report",
                                                                                                 #"write_reporting_dir",
                                                                                                 "write_shareable_mdls",
                                                                                                 "write_sngl_predr_multi_mdls_outps",
                                                                                                 "write_to_delete_ds_copies",
                                                                                                 "write_to_delete_mdl_fls",
                                                                                                 "write_ts_mdls_from_alg_outp")
                           ),##
                           dev_pkgs_chr = c("ready4",
                                            "ready4use","ready4show",
                                            "youthvars","scorz"),
                           lifecycle_stage_1L_chr = "experimental",
                           path_to_pkg_logo_1L_chr = "../../../../../Documentation/Images/specific-logo/default.png",
                           piggyback_to_1L_chr = "ready4-dev/ready4",
                           ready4_type_1L_chr = "modelling",
                           zenodo_badge_1L_chr = "[![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.5768689.svg)](https://doi.org/10.5281/zenodo.5768689)"
  )
## y
y <- dplyr::bind_rows(ready4class::make_pt_ready4class_constructor(make_s3_lgl = FALSE,
                                                                   name_stub_chr = "Parameters",
                                                                   slots_ls = list(#"a_ScorzProfile",
                                                                     "candidate_mdls_chr",
                                                                     "candidate_mdls_lup",
                                                                     "candidate_mdl_pfcs_chr",
                                                                     "candidate_predrs_chr",
                                                                     "candidate_covars_chr",
                                                                     "depnt_var_nm_1L_chr",
                                                                     "depnt_var_max_val_1L_dbl",
                                                                     "folds_1L_int",
                                                                     "max_mdl_runs_1L_int",
                                                                     "seed_1L_int",
                                                                     "predictors_lup") %>% list(),
                                                                   pt_ls = list(#"ScorzProfile",
                                                                     "character",
                                                                     "specific_models",
                                                                     "character",
                                                                     "character",
                                                                     "character",
                                                                     "character",
                                                                     "numeric",
                                                                     "integer",
                                                                     "integer",
                                                                     "integer",
                                                                     "specific_predictors") %>% list(),
                                                                   #vals_ls = list(list(instrument_version_1L_chr = "'Adolescent'")),
                                                                   class_desc_chr = "Input parameters that specify candidate models to be explored.",
                                                                   parent_class_chr = "Ready4Module"#,inc_clss_ls = list("ScorzAqol6")
),
ready4class::make_pt_ready4class_constructor(make_s3_lgl = FALSE,
                                             name_stub_chr = "Private",
                                             slots_ls = list("private_outp_ls") %>% list(),
                                             pt_ls = list("list") %>% list(),
                                             class_desc_chr = "Analysis outputs not intended for public dissemination.",
                                             parent_class_chr = "Ready4Private"),
ready4class::make_pt_ready4class_constructor(make_s3_lgl = FALSE,
                                             name_stub_chr = "Shareable",
                                             slots_ls = list("shareable_outp_ls") %>% list(),
                                             pt_ls = list("list") %>% list(),
                                             class_desc_chr = "Analysis outputs intended for public dissemination.",
                                             parent_class_chr = "Ready4Public"),
ready4class::make_pt_ready4class_constructor(make_s3_lgl = FALSE,
                                             name_stub_chr = "Results",
                                             slots_ls = list("a_SpecificShareable",
                                                             "b_SpecificPrivate") %>% list(),
                                             pt_ls = list("SpecificShareable",
                                                          "SpecificPrivate") %>% list(),
                                             class_desc_chr = "Analysis results.",
                                             parent_class_chr = "Ready4Module",
                                             inc_clss_ls = list("SpecificShareable","SpecificPrivate") %>% list()),
ready4class::make_pt_ready4class_constructor(make_s3_lgl = FALSE,
                                             name_stub_chr = "Project",
                                             slots_ls = list("a_ScorzProfile",
                                                             "b_SpecificParameters",
                                                             "c_SpecificResults") %>% list(),
                                             pt_ls = list("ScorzProfile",
                                                          "SpecificParameters",
                                                          "SpecificResults") %>% list(),
                                             class_desc_chr = "Modelling project input parameters and results output.",
                                             parent_class_chr = "Ready4Module",
                                             inc_clss_ls = list("SpecificResults","SpecificParameters") %>% list()))
  y <- y %>%
  dplyr::bind_rows(tibble::tribble(
    ~ make_s3_lgl, ~ name_stub_chr, ~ pt_ls, ~ pt_chkr_pfx_ls, ~ pt_ns_ls, ~ vals_ls, ~ allowed_vals_ls, ~ min_max_vals_ls, ~ start_end_vals_ls, ~ class_desc_chr, ~ parent_class_chr, ~ slots_ls, ~ meaningful_nms_ls, ~ inc_clss_ls, ~ asserts_ls,
    TRUE, "predictors", list("tibble"), list("is_"), list("tibble"), list(short_name_chr = "character(0)",
                                                                          long_name_chr = "character(0)",
                                                                          min_val_dbl = "numeric(0)",
                                                                          max_val_dbl = "numeric(0)",
                                                                          class_chr = "character(0)",
                                                                          increment_dbl = "numeric(0)",
                                                                          class_fn_chr = "character(0)",
                                                                          mdl_scaling_dbl = "numeric(0)",
                                                                          covariate_lgl = "logical(0)"), NULL, NULL, NULL, "Candidate predictors lookup table", NA_character_, NULL, NULL, NULL, NULL,
    TRUE, "models", list("tibble"), list("is_"), list("tibble"), list(short_name_chr = "character(0)",
                                                                      long_name_chr = "character(0)",
                                                                      control_chr = "character(0)",
                                                                      family_chr = "character(0)",
                                                                      fn_chr = "character(0)",
                                                                      start_chr = "character(0)",
                                                                      predn_type_chr = "character(0)",
                                                                      tfmn_chr = "character(0)",
                                                                      tfmn_for_bnml_lgl = "logical(0)",
                                                                      fixed_acronym_chr = "character(0)",
                                                                      mixed_acronym_chr = "character(0)",
                                                                      mixed_type_chr = "character(0)",
                                                                      with_chr = "character(0)"), NULL, NULL, NULL, "Candidate models lookup table", NA_character_, NULL, NULL, NULL, NULL))  %>%
  ready4class::ready4class_constructor()
z <- ready4pack::make_pt_ready4pack_manifest(x,
                                             constructor_r3 = y#,
                                             # pkg_ds_ls_ls = datasets_ls
) %>%
  ready4pack::ready4pack_manifest()
z <- ready4::author(z)
# devtools::build_vignettes()
